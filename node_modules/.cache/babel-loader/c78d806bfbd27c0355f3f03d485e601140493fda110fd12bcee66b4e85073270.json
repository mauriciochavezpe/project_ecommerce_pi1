{"ast":null,"code":"import { CART_ADD_ITEM, CART_REMOVE_TOAST, CART_REMOVE_ITEM, CART_SAVE_SHIPPING_ADDRESS, CART_SAVE_PAYMENT_METHOD, CART_CLEAR_ITEMS, CART_CLEAR_SHIPPING_ADDRESS } from '../constants/cartConstants';\nexport const cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cartItems: [],\n    toast: false,\n    message: '',\n    shippingAddress: null,\n    paymentMethod: 'PayPal'\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case CART_ADD_ITEM:\n      const item = payload.item;\n      const existItem = state.cartItems.find(i => i.product === item.product);\n      if (existItem) {\n        return {\n          ...state,\n          message: payload.message,\n          toast: true,\n          cartItems: state.cartItems.map(i => i.product === existItem.product ? item : i)\n        };\n      } else {\n        return {\n          ...state,\n          message: payload.message,\n          toast: true,\n          cartItems: [...state.cartItems, item]\n        };\n      }\n    case CART_REMOVE_ITEM:\n      return {\n        ...state,\n        message: payload.message,\n        toast: true,\n        cartItems: state.cartItems.filter(item => item.product !== payload.product)\n      };\n    case CART_SAVE_SHIPPING_ADDRESS:\n      return {\n        ...state,\n        shippingAddress: payload\n      };\n    case CART_SAVE_PAYMENT_METHOD:\n      return {\n        ...state,\n        paymentMethod: payload\n      };\n    case CART_REMOVE_TOAST:\n      return {\n        ...state,\n        toast: false\n      };\n    case CART_CLEAR_ITEMS:\n      return {\n        ...state,\n        cartItems: [],\n        toast: false,\n        message: ''\n      };\n    case CART_CLEAR_SHIPPING_ADDRESS:\n      return {\n        ...state,\n        toast: false,\n        message: '',\n        shippingAddress: null\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["CART_ADD_ITEM","CART_REMOVE_TOAST","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_CLEAR_ITEMS","CART_CLEAR_SHIPPING_ADDRESS","cartReducer","state","arguments","length","undefined","cartItems","toast","message","shippingAddress","paymentMethod","action","type","payload","item","existItem","find","i","product","map","filter"],"sources":["/Users/echavezp/Desktop/Mauricio/UPC/20231/PI1/CODIGO/ecommerce-mern-heroku/frontend/src/reducers/cartReducers.js"],"sourcesContent":["import {\n  CART_ADD_ITEM,\n  CART_REMOVE_TOAST,\n  CART_REMOVE_ITEM,\n  CART_SAVE_SHIPPING_ADDRESS,\n  CART_SAVE_PAYMENT_METHOD,\n  CART_CLEAR_ITEMS,\n  CART_CLEAR_SHIPPING_ADDRESS,\n} from '../constants/cartConstants'\n\nexport const cartReducer = (\n  state = {\n    cartItems: [],\n    toast: false,\n    message: '',\n    shippingAddress: null,\n    paymentMethod: 'PayPal',\n  },\n  action\n) => {\n  const { type, payload } = action\n\n  switch (type) {\n    case CART_ADD_ITEM:\n      const item = payload.item\n\n      const existItem = state.cartItems.find((i) => i.product === item.product)\n\n      if (existItem) {\n        return {\n          ...state,\n          message: payload.message,\n          toast: true,\n          cartItems: state.cartItems.map((i) =>\n            i.product === existItem.product ? item : i\n          ),\n        }\n      } else {\n        return {\n          ...state,\n          message: payload.message,\n          toast: true,\n          cartItems: [...state.cartItems, item],\n        }\n      }\n    case CART_REMOVE_ITEM:\n      return {\n        ...state,\n        message: payload.message,\n        toast: true,\n        cartItems: state.cartItems.filter(\n          (item) => item.product !== payload.product\n        ),\n      }\n    case CART_SAVE_SHIPPING_ADDRESS:\n      return {\n        ...state,\n        shippingAddress: payload,\n      }\n    case CART_SAVE_PAYMENT_METHOD:\n      return {\n        ...state,\n        paymentMethod: payload,\n      }\n    case CART_REMOVE_TOAST:\n      return {\n        ...state,\n        toast: false,\n      }\n    case CART_CLEAR_ITEMS:\n      return {\n        ...state,\n        cartItems: [],\n        toast: false,\n        message: '',\n      }\n    case CART_CLEAR_SHIPPING_ADDRESS:\n      return {\n        ...state,\n        toast: false,\n        message: '',\n        shippingAddress: null,\n      }\n    default:\n      return state\n  }\n}\n"],"mappings":"AAAA,SACEA,aAAa,EACbC,iBAAiB,EACjBC,gBAAgB,EAChBC,0BAA0B,EAC1BC,wBAAwB,EACxBC,gBAAgB,EAChBC,2BAA2B,QACtB,4BAA4B;AAEnC,OAAO,MAAMC,WAAW,GAAG,SAAAA,CAAA,EAStB;EAAA,IARHC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;IACNG,SAAS,EAAE,EAAE;IACbC,KAAK,EAAE,KAAK;IACZC,OAAO,EAAE,EAAE;IACXC,eAAe,EAAE,IAAI;IACrBC,aAAa,EAAE;EACjB,CAAC;EAAA,IACDC,MAAM,GAAAR,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAEN,MAAM;IAAEO,IAAI;IAAEC;EAAQ,CAAC,GAAGF,MAAM;EAEhC,QAAQC,IAAI;IACV,KAAKlB,aAAa;MAChB,MAAMoB,IAAI,GAAGD,OAAO,CAACC,IAAI;MAEzB,MAAMC,SAAS,GAAGb,KAAK,CAACI,SAAS,CAACU,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,OAAO,KAAKJ,IAAI,CAACI,OAAO,CAAC;MAEzE,IAAIH,SAAS,EAAE;QACb,OAAO;UACL,GAAGb,KAAK;UACRM,OAAO,EAAEK,OAAO,CAACL,OAAO;UACxBD,KAAK,EAAE,IAAI;UACXD,SAAS,EAAEJ,KAAK,CAACI,SAAS,CAACa,GAAG,CAAEF,CAAC,IAC/BA,CAAC,CAACC,OAAO,KAAKH,SAAS,CAACG,OAAO,GAAGJ,IAAI,GAAGG,CAC3C;QACF,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACL,GAAGf,KAAK;UACRM,OAAO,EAAEK,OAAO,CAACL,OAAO;UACxBD,KAAK,EAAE,IAAI;UACXD,SAAS,EAAE,CAAC,GAAGJ,KAAK,CAACI,SAAS,EAAEQ,IAAI;QACtC,CAAC;MACH;IACF,KAAKlB,gBAAgB;MACnB,OAAO;QACL,GAAGM,KAAK;QACRM,OAAO,EAAEK,OAAO,CAACL,OAAO;QACxBD,KAAK,EAAE,IAAI;QACXD,SAAS,EAAEJ,KAAK,CAACI,SAAS,CAACc,MAAM,CAC9BN,IAAI,IAAKA,IAAI,CAACI,OAAO,KAAKL,OAAO,CAACK,OACrC;MACF,CAAC;IACH,KAAKrB,0BAA0B;MAC7B,OAAO;QACL,GAAGK,KAAK;QACRO,eAAe,EAAEI;MACnB,CAAC;IACH,KAAKf,wBAAwB;MAC3B,OAAO;QACL,GAAGI,KAAK;QACRQ,aAAa,EAAEG;MACjB,CAAC;IACH,KAAKlB,iBAAiB;MACpB,OAAO;QACL,GAAGO,KAAK;QACRK,KAAK,EAAE;MACT,CAAC;IACH,KAAKR,gBAAgB;MACnB,OAAO;QACL,GAAGG,KAAK;QACRI,SAAS,EAAE,EAAE;QACbC,KAAK,EAAE,KAAK;QACZC,OAAO,EAAE;MACX,CAAC;IACH,KAAKR,2BAA2B;MAC9B,OAAO;QACL,GAAGE,KAAK;QACRK,KAAK,EAAE,KAAK;QACZC,OAAO,EAAE,EAAE;QACXC,eAAe,EAAE;MACnB,CAAC;IACH;MACE,OAAOP,KAAK;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}